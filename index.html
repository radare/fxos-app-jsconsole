<html>
<head>
<title>JS Console</title>
<link rel="stylesheet" type="text/css" href="shared/style/responsive.css"/>
<meta name="viewport" content="width=320px, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=false" />
<style>
html,body {
	border:0px;
	margin:0px;
	padding:0px;
	font-size: 10px;
overflow:hidden;
	overflow-x:hidden;
}
.input {
	border:20px;
	background-color:#d0d0d0;
	font-size:1.6rem;
	font-weight:bold;
	width:100%;
	height:40%;
}
div,input {
	font-size:2rem;
	margin:10px;
	margin-bottom:0px;
}
</style>
<script src="libc.js">
</script>
<script>
var body = "";
function onload () {
	body = document.body.innerHTML;
}
function onload () {
	body = document.body.innerHTML;
	var input = document.getElementById('input');
	input.style.height="200px";
	input.style.width=window.innerWidth+"px";
}
function reset() {
	document.getElementById ('output').innerHTML = "";
}
function help() {
	alert ("libc.js: strcmp, strncmp, strcasecmp, stdout_get, puts, printf, sprintf");
}
function restorebody(i,o) {
        if (strncmp (document.getElementById ('body'), body, 20)) {
                alert ("Cannot overwrite document.body");
                history.go (0);
        }
	document.getElementById ('output').innerHTML = o;;
/*
	document.body.innerHTML = body;
	document.getElementById ('input').innerHTML = i;
	document.getElementById ('output').innerHTML = o;
*/
	//'-- problematic output --';//o;
}
function run() {
	var i = document.getElementById ('input').value;
	var syntax_error = false;
	try {
		eval (i);
	} catch (ie) {
		syntax_error = true;
		alert ("Syntax error: "+ie);
	}
	if (!syntax_error) {
		var o = document.getElementById ('output').innerHTML;
		restorebody(i,o);
	}
}
</script>
</head>

<body onload="onload()">
<center>
<input type="button" onclick="run()" value="Run"/>
<input type="button" onclick="reset()" value="Clear"/>
<input type="button" onclick="help()" value="Help"/>
</center>
<!--
<input type="button" onclick="reset()" value="Indent" disabled/>
<input type="button" onclick="reset()" value="Save" disabled/>
<input type="button" onclick="reset()" value="Load" disabled/>
<input type="button" onclick="reset()" value="Share" disabled/>
-->
<br />
<textarea autocapitalize="off" autocorrect="off" class="input" id="input">
// Hello World program
for (var i = 0; i<3; i++) {
  puts ("Hello World "+i);
}
alert ("Done!");
</textarea>
<br />
<br />
<div id="output">
</div>
</body>
</html>
